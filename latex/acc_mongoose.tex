\documentclass[main]{subfiles}
\begin{document}

\chapter{Calibraci\'on del acelerómetro}
\label{chap:calibracion_acelerometro}

\section{Objetivos}

Realizar una serie de pruebas con el fin de caracterizar y calibrar el acelerómetro de tres ejes de la unidad de medida inercial (IMU).

\section{Materiales}
\begin{itemize}
\item Mongoose 9DoF IMU de \emph{Ckdevices}
\item Prisma de madera
\item Escuadra con ángulo de $45º$
\item Mesa nivelable con tapa móvil ajustable a distintos ángulos
\item Nivel
\end{itemize}

\section{Marco Teórico}
Existen diversas no idealidades que afectan la lectura de los valores de aceleración registrados por el acelerómetro. Las no idealidades  a considerar basados en lo desarrollado por \cite{bib:calib_IMU} son:

\begin{itemize}
\item Ruido inherente
\item Relación entre aceleración real y lectura del acelerómetro no lineal.
\item No ortogonalidad de los ejes
\item Drift aleatorio
\item Variación de las medidas con la temperatura

\end{itemize} 

\subsubsection*{Ruido Inherente}
Existe un ruido inherente del cual no nos preocuparemos en demasía ya que el mismo se modela como un proceso estocástico de distribución normal y media nula, como veremos luego. Por lo tanto, en esta etapa de calibración donde se tomarán cientas de muestras y se promediarán se puede trabajar sin considerar este ruido.

\subsubsection*{Relación no lineal}
En la hoja de datos del acelerómetro ADXL345 de la \emph{Mongoose 9DOF IMU} se declara que en cualquiera de los tres ejes el error debido a una respuesta no lineal es, en el peor caso, $\pm$ 0.5\% del valor de fondo de escala, por lo tanto se decide considerar para el acelerómetro una respuesta lineal.

\subsubsection*{No ortogonalidad de los ejes}
Debido a defectos de construcción los ejes de sensibilidad del dispositivo pueden no ser ortogonales. Evidentemente si no se considera este aspecto se tendrá un error que puede ser importante en las medidas de aceleración. Se modela esta no idealidad considerando la siguiente relación entre la aceleración medida en cada eje de sensibilidad del acelerómetro y la aceleración medida en un sistema solidario a la plataforma:

\begin{equation}
\mathbf{a}^p=T^p_a \mathbf{a}^a, \quad  T^p_a=\left( \begin{matrix}
1 &-\alpha_{yz} &\alpha_{zy}\\
\alpha_{xz} &1& -\alpha_{zx} \\
-\alpha_{xy} &\alpha_{yx} &1\\
\end{matrix} 
\right)\end{equation}

Donde:
\begin{itemize}
\item $\alpha_{ij}$ es la rotación del  i-ésimo eje de sensibilidad del acelerómetro sobre el j-ésimo eje del sistema de la plataforma. Dichas rotaciones se ven representadas en la figura \ref{fig:ejes}.
\item $\mathbf{a}^a$ es el vector de aceleración medido por el acelerómetro.
\item $\mathbf{a}^p$ es el vector de aceleración medido en el sistema solidario a la plataforma.
\end{itemize}

En la figura \ref{fig:ejes}\footnote{Figura extraida de \cite{bib:calib_IMU}} se pueden observar dichos \'angulos expresados gr\'aficamente. Estos son constantes ya que su origen es puramente de construcción y se puede asumir que las orientaciones se mantendrán lo suficiente como para que no sea necesario realizar re-calibraciones constantemente.\\
\begin{figure}
  \vspace{-20pt}
  \begin{center}
    \includegraphics[width=0.5\textwidth]{./pics_acc/ejes_acc.jpg}
  \end{center}
  \vspace{-20pt}
  \caption{Rotaciones entre los ejes de la plataforma y del acelerómetro}
  \label{fig:ejes}
  \vspace{-10pt}
\end{figure}



Asumiendo un modelo lineal, la relación entre la aceleración y la medida realizada se puede expresar matricialmente de la siguiente forma:
\begin{equation}
\tilde{\mathbf{a}}^a = K_a \mathbf{a}^a + \mathbf{b}_a
\end{equation} donde $\tilde{\mathbf{a}}^a$ es la aceleraci\'on medida, $K_a$ es una matriz diagonal que representa el factor de escala para convertir del valor digital a una aceleración correspondiente. $\mathbf{b}_a$ no es otra cosa que un término independiente para corregir la posición del cero. Estos dos parámetros poseen algunas de las fuentes de error que resulta más difícil de corregir. Resulta que dichos parámetros varían con la temperatura, por lo tanto el resultado obtenido durante la calibraci\'on (temperatura ambiente) puede diferir de los valores obtenidos una vez instalado el aceler\'ometro dentro del cuadric\'optero (temperaturas superiores a los $30^\circ C$). A partir de la hoja de datos del fabricante se decide modelar el \emph{offset} mediante una relaci\'on lineal con la temperatura. En una primera aproximaci\'on no se considera este \'ultimo factor.

\subsubsection{Modelo del acelerómetro}

A partir del anális realizado se decide considerar el siguiente modelo de acelerómetro:

\begin{equation}
\tilde{\mathbf{a^a}}=K_a(T_a^p)^{-1}\mathbf{a^p}+b_a
\label{ec:modelo_acc}
\end{equation}

\section{Procedimiento}
\subsection{Caracterización de las no idealidades variables}

Previo a la calibración de los parámetros estáticos parece interesante estudiar una serie de algunos minutos a una tasa de muestreo de 100Hz. Estos datos serán útiles para la determinación de dos no idealidades:  
\begin{itemize}
\item Ruido inherente
\item Drift aleatorio
\end{itemize}

Además se realizará una medida variando la temperatura ambiente a fin de determinar la magnitud del Drift térmico.

\subsection{Determinación de parámetros estáticos}

Como se desprende de la sección anterior, para poder calibrar el acelerómetro se deben determinar 12 parámetros. Por dicho motivo, se precisan obtener al menos 12 ecuaciones diferentes. Típicamente se trabaja con el doble o triple de ecuaciones que de parámetros a determinar. Para mejorar los resultados se trabajará con 27 medidas donde cada una de ellas aporta 3 ecuaciones (una por cada eje), logrando un total de 81 ecuaciones, y se procederá a determinar los parámetros que minimizan el error cuadrático medio entre los valores efectivamente medidos y los valores teóricos. 

\subsubsection*{Preparación}
Para realizar una buena calibración es muy importante contar con una figura geométrica en forma de paralelepípedo que pueda solidarizarse a la IMU. De esta forma nos aseguramos que no se introducen errores a la hora de orientar un eje en una dirección particular. Del mismo modo, es ideal disponer de una superficie perpendicular a la vertical y otra paralela, de modo que para rotar 90 grados la IMU, basta con rotar el paralelepípedo ese mismo ángulo, es decir, apoyar otra de las caras del mismo. \\

\begin{wrapfigure}{r}{0.5\textwidth}
  \vspace{-20pt}
  \begin{center}
    \includegraphics[width=0.42\textwidth]{./pics_acc/cubo.png}
  \end{center}
  \vspace{-20pt}
  \caption{Cubo de lapacho}
  \label{fig:cubo}
\end{wrapfigure}

El prisma que se utilizó fue el cubo de lapacho que puede verse en la figura \ref{fig:cubo}. Los ángulos del mismo son prácticamente rectos difiriendo a lo sumo en medio grado. \\

Se construy\'o una plataforma de madera en forma de mesa con la tapa superior móvil, de modo que permite el giro sobre uno de sus lados (eje de giro). Se muestra en la figura \ref{fig:mesa-flotando}.  A su vez, es posible ajustar el dispositivo, de forma de asegurar que dicho eje se encuentre en posición horizontal, por medio de 3 patas de altura regulable situadas en la parte inferior de la mesa. Para realizar las 27 medidas se irá modificando el ángulo de la tapa móvil de la plataforma y será medido con un semicírculo solidarizado a dicha tapa y un péndulo. En cada posición de la plataforma se tomarán medidas colocando el cubo en 3 posiciones distintas.

\begin{figure}[h!]
	\begin{center}
		\includegraphics[width=0.7\textwidth]{./pics_acc/mesa-flotando.jpg}
	\end{center}
	\vspace{-20pt}
	\caption{Mesa - Plano inclinado regulable}
	\label{fig:mesa-flotando}
\end{figure}

\subsubsection*{Medidas a realizar}
En reposo el acelerómetro medirá una fuerza igual a \textit{g} en la dirección vertical y en el sentido radial saliente de la Tierra. En cada uno de los ejes de sensibilidad del acelerómetro se medirá la proyección ortogonal de dicho vector gravedad sobre cada eje. De esta forma, con distintas orientaciones se obtiene una descomposición distinta.

\subsection{Variaci\'on de la medida con la temperatura}
Para obtener una serie de datos adecuada se debe variar la temperatura en un rango que incluya la temperatura interna del cuadric\'optero en funcionamiento y la temperatura ambiente durante la calibraci\'on. Asimismo la variaci\'on de la temperatura no puede ser excesivamente r\'apida. Se procede a calentar la IMU con un secador, una vez alcanzados los $48^\circ C$ se deja enfriar. Se utilizar\'an los datos en la zona en la cual la temperatura disminuye. 

\section{Resultados y análisis}
\subsection{Medida estática durante una hora}

En la figura \ref{fig:rrtests} pueden observarse los datos crudos obtenidos de las aceleraciones registradas en los tres ejes de la IMU durante un período de 3 minutos 45 segundos.

\begin{figure}[h!]
  \begin{center}
    \includegraphics[width=0.5\textwidth]{./pics_acc/rrtests.pdf}
  \end{center}
  \caption{Aceleraciones registradas por la IMU orientada con el eje z verticalmente y en reposo}
  \label{fig:rrtests}

\end{figure}

En la figura se observa lo que se espera a priori de acuerdo a la posici\'on del aceler\'ometro, dos medidas cercanas al cero y una medida de valor positivo. Esta \'ultima corresponde a la medida de la aceleraci\'on vertical en el sistema de caida libre. De la observaci\'on de esta serie de datos, avalados por características de la tecnología del acelerómetro, podemos afirmar que el ruido observado es asociable a un ruido blanco de media nula y que no existe deriva en las medidas realizadas, como era de esperarse. A partir de dichas constataciones se puede asegurar que es adecuado trabajar con el promedio de las muestras obtenidas en una posici\'on.


\subsection{Medias estáticas para el acelerómetro}

Como se aclaró en la sección anterior se trabajará con el promedio de las aceleraciones medidas en una serie de datos. Cada serie de datos es de 20 segundos de duración. Además de variar el ángulo ($\theta$) de la mesa, se rotará el prisma de forma de realizar una medida con cada eje perpendicular al plano de la mesa. Asimismo utilizando una escuadra se lograrán rotaciones de 45º respecto del eje perpendicular a la tapa ($\phi$). Los resultados obtenidos se presentan en la tabla \ref{tab:acc}. Se utiliza la siguiente notación para las orientaciones utilizadas:
\begin{itemize}
	\item Orientación ``x''
	\begin{itemize}
		\item Eje ``x'' perpendicular a la tapa de la mesa y hacia abajo.
		\item Giro de la tapa de la mesa según el eje ``z''.
	\end{itemize}
	\item Orientación ``y''
	\begin{itemize}
		\item Eje ``y'' perpendicular a la tapa de la mesa y hacia arriba.
		\item Giro de la tapa de la mesa según el eje ``z''.
	\end{itemize}
	\item Orientación ``x''
	\begin{itemize}
		\item Eje ``z'' perpendicular a la tapa de la mesa y hacia arriba.
		\item Giro de la tapa de la mesa según el eje ``-y''.
	\end{itemize}
\end{itemize}
El tercer eje se deduce sabiendo que la base es directa. La aceleración medida es un número sin unidades.

\begin{table}[H]
\centering
\begin{tiny}
\begin{tabular}{p{30pt}p{30pt}|p{40pt}|p{26pt}|p{40pt}|p{26pt}|p{40pt}|p{26pt}|}
\hhline{~~------}
&

& \multicolumn{2}{|p{79pt}|}{\cellcolor[gray]{0.5} \centering \textbf{Orientación x}}  
& \multicolumn{2}{|p{79.5pt}|}{\cellcolor[gray]{0.5} \centering \textbf{Orientación y}}
& \multicolumn{2}{|p{78.7pt}|}{\cellcolor[gray]{0.5} \centering \textbf{Orientación z}} \\ \hline 

  \multicolumn{2}{|p{72.5pt}|}{\cellcolor[gray]{0.6}  \centering\textbf{Posición}}  
& \multicolumn{6}{|p{262.8pt}|}{\cellcolor[gray]{0.6} \centering\textbf{Aceleraciones}}  \\ \hline
  \multicolumn{1}{|p{30pt}|}{\cellcolor[gray]{0.7} $\theta(º)$}
& \multicolumn{1}{|p{30pt}|}{\cellcolor[gray]{0.7} $\phi(º)$} 
& \multicolumn{1}{|p{40pt}|}{\cellcolor[gray]{0.8} \textbf{Medida}}  
& \multicolumn{1}{|p{26.2pt}|}{\cellcolor[gray]{0.7} Teórica ($ms^{-2})$ }
& \multicolumn{1}{|p{40pt}|}{\cellcolor[gray]{0.8} \textbf{Medida}}  
& \multicolumn{1}{|p{26.7pt}|}{\cellcolor[gray]{0.7} Teórica ($ms^{-2})$ }
& \multicolumn{1}{|p{40pt}|}{\cellcolor[gray]{0.8} \textbf{Medida}}  
& \multicolumn{1}{|p{26pt}|}{\cellcolor[gray]{0.7} Teórica ($ms^{-2})$ }
\\ \hline
\multicolumn{1}{|p{30pt}|}{0}  & 0  &  -247.3172;    0.1591;    -49.4095 &       -9.81;          0;      0 & 14.3760;      264.0399;    -44.6882 &   0;          9.81;         0 & 12.1923;    0.2008;    207.5115 &      0;      0;         9.81\\ \hline
\multicolumn{1}{|p{30pt}|}{10} & 0  &  -242.5470;    50.0072;     -48.7807 &       -9.6610;    1.7035;     0 & 15.3408;       259.7820;    -91.4934 &    0;	 9.661;   -1.7035 & 62.8272;    0.0766;    203.3657 & 1.7035;     0;         9.661\\ \hline
\multicolumn{1}{|p{30pt}|}{10} & 45 & -242.7077;    36.7365;    -14.3685 & -9.661;    1.2045;     1.2045 & 50.9558;        259.5086;    -77.8004 &  1.2045;    9.661;	-1.2045     & 48.5749;    -35.4617;    203.0832 & 1.2045;     -1.2045;	-9.661    \\ \hline
\multicolumn{1}{|p{30pt}|}{20} & 0  &  -229.2972;    95.2188;    -48.4324 &       0;    -9.2184;    3.3552 & 15.8545;     249.5544;     -133.6116 & 0;          9.2184;    3.3552 & 108.2951;    0.0158;    191.7640 & 3.3552;    0;		9.2184\\ \hline
\multicolumn{1}{|p{30pt}|}{20} & 45 &   -229.6051;     68.0701;    15.6173 & -9.2184;    2.3725;    2.3725 & 82.0560;       248.6061;     -109.4629 & 2.3725;    9.2184;    -2.3725 & 79.4781;    -67.2837;     191.4327 & 2.3725;    -2.3725;	9.2184    \\ \hline
\multicolumn{1}{|p{30pt}|}{30} & 0  &  -209.4179;    134.6230;    -47.5677 &       -8.4957;     4.905;    0 & 16.3148;    229.4927;     -173.9674 & 0;		8.4957;		-4.905 & 147.6114;    -0.0215;    173.6084 &  4.905;    0;	8.4957\\ \hline
\multicolumn{1}{|p{30pt}|}{30} & 45 & -209.7781;    97.1743;    43.9208 & -8.4957;    3.4684;    3.4684 & 111.5630;       228.5963;     -134.9143 & 3.4684;    8.4957;	-3.4684 & 109.1504;       -96.7951;     173.0896 & 3.4684;    -3.4684;    8.4957\\ \hline
\multicolumn{1}{|p{30pt}|}{45} & 0  &  -166.6483;    191.3168;    -46.3487 &       -6.9367;    6.9367;    0 & 17.0755;      186.6639;      -226.5195 & 0;          6.9367;    6.9367 & 202.2578;    -0.1806;    130.7166 & 6.9367;    0;         6.9367\\ \hline
\multicolumn{1}{|p{30pt}|}{45} & 45 & -167.2223;    136.3814;    79.8707 &  6.9367;	4.905;     4.905;     & 150.2017;       185.5153;     -172.5526 & 4.905;    6.9367; -4.905      & 147.2068;    -135.3122;     130.4525 &  4.905;    -4.905;	6.9367     \\ \hline


\end{tabular}
\end{tiny}
\caption{Aceleraciones medidas y aceleraciones teóricas en los tres ejes de la plataforma}
\label{tab:acc}
\end{table} 

Para la calibración se consideran solamente 24 de las 27 medidas realizadas. Esto es útil ya que quedan 3 medidas, que no serán tenidas en cuenta en la calibración, para realizar una validaci\'on de la calibración obtenida.

El problema de calibración consiste en encontrar el vector de parámetros $\theta$ que mejor ajusta las medidas obtenidas a los valores teóricos de aceleración. El vector $\theta$ se compone de los elementos de la diagonal de la matriz $K_a$, de los elementos de $b_a$ y de los $\alpha_{ij}$ de la matriz $T_a^p$. Es decir: 
\begin{equation}
\theta =\left[ k_{ax} , k_{ay} , k_{az} ,b_{ax} ,b_{ay} ,b_{az}, \alpha_{yz} , \alpha_{zy} , \alpha_{xz} , \alpha_{zx} , \alpha_{xy} , \alpha_{yx} \right]\end{equation}

Como criterio de ajuste se decide minimizar la suma de los cuadrados de la diferencia entre la aceleración teórica y la aceleración medida. Dicho problema se puede expresar matemáticamente como:

\begin{equation}
\label{eq:lsqnonlin}
\theta \quad : \quad  min \left\lbrace \sum_{i=1}^{M} {\vert \vert a_{i}^p-T_a^pK_a^{-1}\left(\tilde{\mathbf{a}}_{i}^a -\mathbf{b}_a \right)\vert \vert} \right\rbrace
\end{equation}

donde M es la cantidad de medidas realizadas, $a_{i}^p$ los valores de aceleración teóricos en cada eje de la plataforma según la posición y orientación de la IMU y $\tilde{\mathbf{a}}_{i}^a$ los valores obtenidos de la IMU.
Para resolver dicho problema se utiliza el algoritmo \emph{lsqnonlin} de \emph{MatLab} que es capaz de encontrar los m\'inimos locales de la funci\'on \ref{eq:lsqnonlin} a partir de una semilla.\\

El rango de aceleraciones manejado en la prueba es de $\pm 16g$. Según la hoja de datos del acelerómetro, se tiene una ganancia de $3.9 mg/LSB$. El valor de la semilla de los t\'erminos que corresponden a la ganancia debe ser entonces $\frac{1}{g \times 3.9 \times 10^{-3}}=26.1376$ para los tres ejes. La IMU expresa las aceleraciones obtenidas en \emph{complemento A2}, por lo que una aceleración de 0 equivale a una lectura de 0, por lo tanto el valor de la semilla de los t\'erminos que corresponden al offset debe ser 0. Finalmente, los ángulos se suponen pequeños, por lo tanto una semilla válida parece ser: 
\begin{equation}
\theta_0=\left[ \frac{1}{g \times 3.9 \times 10^{-3}}, \frac{1}{g \times 3.9 \times 10^{-3}}, \frac{1}{g \times 3.9 \times 10^{-3}}, 0, 0, 0, 0, 0, 0, 0, 0, 0 \right]
\end{equation}

Los parámetros que minimizan la suma de los errores al cuadrado son los siguientes:

\begin{scriptsize}
\begin{equation}
\theta=\left[ 26.7572 \quad 27.0.0599 \quad 25.9838 \quad 16.9374 \quad -0.2446 \quad -47.7863 \quad 0.0005 \quad 0.0025 \quad 0.0149 \quad 0.0023 \quad 0.0000 \quad -0.0077 \quad \right]\end{equation}\end{scriptsize}

Luego de realizada la minimización se calcula la media del error cometido y la desviación estándar del error.
$$\mu=-2.0779 \times 10^{-10} ms^{-2}$$ \\
$$\sigma =  0.0465 ms^{-2}$$ 
 
La media del error cometido es completamente despreciable, por lo tanto podemos afirmar que el $95\% $ de las medidas de aceleración realizadas tendrán un error inferior $2\sigma=0.0930ms^{-2}$.\\
 
Para verificar la calibración realizada se utilizan las medidas siguientes:
\begin{itemize}
\item $\theta = 0 \quad \phi = 0 \quad$ orientación x
\item $\theta = 20 \quad \phi = 0 \quad$ orientación y
\item $\theta = 10 \quad \phi = 45 \quad$ orientación z
\end{itemize}

Se presenta para las tres medidas la aceleración teórica, la medida convertida con los parámetros obtenidos y el error en la tabla \ref{tab:diff}. 

\begin{table}[H]
\centering
\begin{tabular}{|p{100pt}|p{100pt}|p{100pt}|p{100pt}|}
\hline
\cellcolor[gray]{0.8}{Medida} & \cellcolor[gray]{0.8}{Aceleración Medida ($ms^{-2}$)}&\cellcolor[gray]{0.8}{Aceleración teórica($m^{-2}$)}& \cellcolor[gray]{0.8}{Error($ms^{-2}$)} \\
\hline
1 &  -9.8762; -0.1323; -0.0622   &  -9.8100; 0.0000;0.0000     & -0.0662; -0.1323; -0.0622\\
\hline
2 & -0.0534; 9.2382;-3.3743       &  0.0000;9.2184;3.3552     & -0.0534; 0.0198; -0.0191\\
\hline
3 & 1.2072;-1.3057;9.6649       &  1.2045;-1.2045;-9.661   & 0.0027; -0.1012 0.0039\\
\hline
\end{tabular}
\caption{Medidas de verificación}
\label{tab:diff}
\end{table}

En la verificaci\'on se obtienen valores aceptables aunque en la mayor\'ia de los casos los errores superan la desviaci\'on  est\'andar calculada anteriormente. El error cometido en la calibraci\'on del aceler\'ometro produce inevitablemente un drift en la velocidad y en la posici\'on de la medida del sistema. Este drift ser\'a corregido agregando informaci\'on proveniente de otros sensores, en un filtro de Kalman.


\subsection{Variación con la temperatura}

La temperatura de funcionamiento normal de los sensores es mucho mayor a la temperatura ambiente, debido a la potencia disipada por efecto Joule. Gracias al sensor de temperatura presente en la IMU es posible caracterizar la temperatura de funcionamiento normal de la IMU, que ronda los $35^oC$. Dado que la calibración fue realizada a una temperatura sensiblemente inferior, y para lograr robustez frente a eventuales cambios de temperatura, se realiza una compensación por temperatura de la lectura otorgada por el acelerómetro.\\

Para ello se calientan los sensores hasta una temperatura aproximada de $48^oC$, se lo deja enfriar hasta los $35^oC$ y se analiza la variación de las medidas con la temperatura. Al realizar dicho experimento se obtienen los resultados mostrados en la figura \ref{fig:bajada}.

\begin{figure}[H]
  \begin{center}
    \includegraphics[width=0.8\textwidth]{./pics_acc/bajada.pdf}
  \end{center}
  \vspace{-20pt}
  \caption{Variación de la medida del acelerómetro con la temperatura }
  \label{fig:bajada}
\end{figure}

En la misma gráfica se muestran las medidas obtenidas de los sensores y la temperatura en función del tiempo. Los ejes rojos corresponden a la aceleración mientras que los ejes en negro corresponden a la temperatura.\\

De la hoja de datos del acelerómetro se puede extraer la siguiente información:
\begin{quote}
\begin{quote}
\begin{description}
\item [0 g Offset vs. Temperature for X-, Y-Axes:]$\pm 0.4\frac{mg}{^oC}$
\item [0 g Offset vs. Temperature for Z-Axis:]$\pm 1.2\frac{mg}{^oC}$
\end{description}
\end{quote}
\end{quote}
la cual indica que la variación con la temperatura de la medida otorgada en \textbf{z} es 3 veces superior que la variación en los otros dos ejes y se puede caracterizar fundamentalmente con un offset que depende de la temperatura. Por ello se propone una compensación por temperatura utilizando un offset solamente para el eje \textbf{z}, de la forma:
$$ b = b_a + \alpha (t - t_o) $$
Recordando la ecuación \ref{ec:modelo_acc}, se puede actualizar el modelo del acelerómetro al siguiente modelo:
\begin{equation}
\tilde{\mathbf{a^a}}=K_a(T_a^p)^{-1}\mathbf{a^p}+b_a+\left(
\begin{array}{c}
0 \\ 0 \\ \alpha(t - t_o)
\end{array}
\right)
\end{equation}
donde $t$ es la temperatura instantánea y $t_0$ la temperatura para la cual el acelerómetro fue calibrado (aproximadamente $27^oC$).\\

Los resultados obtenidos luego de la compensación por temperatura se muestran en la figura \ref{fig:resultado_temp}.

\begin{figure}[H]
  \begin{center}
    \includegraphics[width=0.8\textwidth]{./pics_acc/resultado_temp.pdf}
  \end{center}
  \vspace{-20pt}
  \caption{Resultado de la compensación por temperatura}
  \label{fig:resultado_temp}
\end{figure}

En la prueba mostrada en dicha figura se coloca al acelerómetro en forma horizontal, por lo que debería arrojar una lectura cercana a $9.81\frac{m}{s}$. En las medidas sin compensación se puede observar el carácter lineal de la dependencia con la temperatura. A su vez puede decirse que el error introducido por la temperatura en las medidas es corregido en buena forma por el modelo propuesto, ya que se obtienen valores de aceleración cercanos a los esperados en todo el rango de temperaturas estudiados.

\end{document}