\documentclass[spanish,12pt,a4paper,titlepage]{report}
%\usepackage[latin1]{inputenc}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{subfig}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{multirow}
\usepackage{caption}
\usepackage[spanish]{babel}
\usepackage[dvips]{hyperref}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{epsfig}
\usepackage{amsmath}
\usepackage{array}
\usepackage[table]{xcolor}
\usepackage{multirow}
\usepackage{hhline}
\usepackage{cancel}
%\usepackage[Sonny]{fncychap}
%\usepackage[Glenn]{fncychap}
\usepackage[Conny]{fncychap}
%\usepackage[Rejne]{fncychap}
%\usepackage[Bjarne]{fncychap}
\usepackage{subfiles}
\usepackage{framed}
\usepackage{appendix}
\setlength{\topmargin}{-1.5cm}
\setlength{\textheight}{25cm}
\setlength{\oddsidemargin}{0.3cm} 
\setlength{\textwidth}{15cm}
\setlength{\columnsep}{0cm}


\begin{document}
\subfile{portada}
\subfile{introduccion}
\part{Descripción del sistema}
\subfile{general}
\subfile{hardware}
\part{Modelado del sistema}
\subfile{modelo_fisico}
\subfile{simulador}
\part{Ingeniería inversa}
\subfile{sniffer}
\subfile{test_motores}
\part{Calibración y caracterizaci\'on de los sensores}
\subfile{acc_mongoose}
\subfile{gyro_mongoose}
\subfile{magnetometro}
\subfile{barometro}
\subfile{gps}
\part{Estimaci\'on del estado}
\subfile{kalman}
\part{Desarrollo del controlador}
\subfile{linealizacion}
\subfile{control}
\subfile{test_control}

\cleardoublepage
\addappheadtotoc
\renewcommand{\appendixpagename}{Anexos}
\appendixpage
\renewcommand{\appendixname}{Anexo}
\renewcommand{\appendixtocname}{Anexo}


\appendix %Tuve que ponerlos con include porque con el subfile quedaban todos numerados con A
\include{anexo_mongoose}
\include{anexo_tensores} 
\include{anexo_linealizacion}
\bibliographystyle{plain} 
\bibliography{biblio}
\end{document}
